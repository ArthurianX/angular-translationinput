"use strict";if("undefined"==typeof dragula){var dragula;throw"Exception: dragula.js is undefined. Please add the library as a dependency to your project"}angular.module("translationInput",[]),angular.module("translationInput").directive("translationInput",["$parse","$document","$window","$http","$timeout","$compile","$templateCache",function(a,b,c,d,e,f,g){return{restrict:"A",controller:["$scope",function(a){}],link:function(a,b,d,e){a.isAROpen=!1,a.languages=[];var h={};a.defaults={defaultLanguage:"en",fetchFlags:!1,languages:["en"],openPosition:"bottom",translateMessage:"Translate Text"};var i=a[d.translationInput];for(var j in i)a.defaults[j]=i[j];var k=function(){a.defaults.languages.forEach(function(b,c){var e="";console.log(a.defaults.defaultLanguage,b),a.defaults.defaultLanguage===b&&(e=angular.copy(a[d.ngModel]),a[d.ngModel]=a.defaults.translateMessage,n.html("x"),n.addClass("aropen")),a.languages.push({text:e,symbol:b,flag:h[b]||""})})},l=function(){a.languages.forEach(function(b,c){b.symbol===a.defaults.defaultLanguage&&(a[d.ngModel]=b.text,n.html(b.symbol),n.removeClass("aropen"))}),a.languages=[]};console.log("Defaults ",a.defaults);var m=f(g.get("angular-translationinput.html"))(a),n=f('<span ng-click="showARTranslations()" class="ar-translation-input-opener">'+a.defaults.defaultLanguage+"</span>")(a),o=function(){var a=angular.element(b)[0].getBoundingClientRect();console.log(a,m),m.css({top:a.top+angular.element(b)[0].offsetHeight+"px"})};a.showARTranslations=function(){a.isAROpen?(angular.element(b).next().next().remove(),a.isAROpen=!1,angular.element(c).unbind("scroll"),l()):(angular.element(b).next().after(m),k(),a.isAROpen=!0,o(),angular.element(c).bind("scroll",function(){o()}))},angular.element(b).addClass("ar-translation-input-base"),angular.element(b).after(n)}}}]),angular.module("translationInput").run(["$templateCache",function(a){a.put("angular-translationinput.html",'<div class="ar-translation-input">\n    <ul>\n        <li ng-repeat="lang in languages track by $index" ng-animate="{enter: \'aranimate-enter\', leave: \'aranimate-leave\'}">\n            <input type="text" ng-model="lang.text">\n            <span>{{lang.symbol}}</span>\n        </li>\n    </ul>\n</div>')}]);